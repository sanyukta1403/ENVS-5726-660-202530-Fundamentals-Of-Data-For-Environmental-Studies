import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt

sns.set_theme(style="whitegrid")

df = pd.read_csv('/Users/sanyuktasingh/Desktop/data class/ENVS-5726-660-202530-Fundamentals-Of-Data-For-Environmental-Studies/final_project/joined_vietnam_waterrisk_cleaned.csv', encoding="utf-8")

df["Factory Type"] = df["Factory Type"].str.strip().str.upper()

df["Category"] = df["Factory Type"].replace({
    "FINISHED GOODS": "Finished Goods",
    "FINISHED GOODS - COMPONENTS": "Finished Goods",
    "MATERIALS": "Materials"
})

df = df[df["Category"].isin(["Finished Goods", "Materials"])]

g = sns.catplot(
    data=df, kind="bar",
    x="Category", y="drr_score", hue="Category",
    errorbar=None, palette="dark", alpha=.6, height=6
)

g.ax.set_ylim(0, 5) #make the y-axis go up to 5

g.despine(left=True)
g.set_axis_labels("", "Baseline Water Stress (Score)")


title = "Drought Risk (DRR)\nFinished Goods vs. Materials â€“ Nike Vietnam Supply Chain"
g.fig.suptitle(title, fontsize=14)
g.fig.subplots_adjust(top=0.88)

plt.show()